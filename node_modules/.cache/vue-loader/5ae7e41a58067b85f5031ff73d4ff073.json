{"remainingRequest":"/home/sota/.nvm/versions/node/v14.17.3/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sota/js_practice/to-do_list_vue_js/app.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sota/js_practice/to-do_list_vue_js/app.vue","mtime":1627661047690},{"path":"/home/sota/.nvm/versions/node/v14.17.3/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/sota/.nvm/versions/node/v14.17.3/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sota/.nvm/versions/node/v14.17.3/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgZWw6ICcjYXBwJywKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgbmV3VG9kb1RleHQ6ICcnLAogICAgZWRpdEluZGV4OiAtMSwKICAgIHRvZG9zOiBbXSwKICAgIG5leHRUb2RvSWQ6IDAKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjaGFuZ2VCdXR0b25UZXh0KCkgewogICAgICAgIHJldHVybiB0aGlzLmVkaXRJbmRleCA9PT0gLTEgPyAnYWRkJyA6ICdmaW5pc2ggZWRpdGlvbic7CiAgICB9CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudG9kb3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9kb3MnKSkgfHwgW107CiAgICB2YXIgaWRzID0gW107CiAgICBmb3IgKGNvbnN0IHRvZG8gb2YgdGhpcy50b2Rvcyl7CiAgICAgIGlkcy5wdXNoKHRvZG8uaWQpOwogICAgfQogICAgY29uc3QgYXJ5TWF4ID0gZnVuY3Rpb24gKGEsIGIpIHtyZXR1cm4gTWF0aC5tYXgoYSwgYik7fQogICAgbGV0IG1heElkID0gaWRzLnJlZHVjZShhcnlNYXgpOwogICAgdGhpcy5uZXh0VG9kb0lkID0gbWF4SWQgKyAxOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGFkZE9yU2V0ICgpIHsKICAgICAgaWYodGhpcy5lZGl0SW5kZXggPT09IC0xKSB7CiAgICAgICAgdGhpcy5hZGROZXdUb2RvKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lZGl0VG9kbygpOwogICAgICB9CiAgICAgIHRoaXMucmVzZXRJbmZvKCk7CiAgICAgIHRoaXMuc2F2ZVRvZG9zKCk7CiAgICB9LAogICAgYWRkTmV3VG9kbygpIHsKICAgICAgdGhpcy50b2Rvcy5wdXNoKAogICAgICAgIHsKICAgICAgICAgIGlkOiB0aGlzLm5leHRUb2RvSWQrKywKICAgICAgICAgIHRpdGxlOiB0aGlzLm5ld1RvZG9UZXh0LAogICAgICAgIH0pOwogICAgfSwKICAgIGVkaXRUb2RvKCkgewogICAgICB0aGlzLnRvZG9zLnNwbGljZSh0aGlzLmVkaXRJbmRleCwgMSwgewogICAgICAgIGlkOiB0aGlzLmVkaXRJbmRleCwKICAgICAgICB0aXRsZTogdGhpcy5uZXdUb2RvVGV4dCwKICAgICAgfSk7CiAgICB9LAogICAgc2V0RWRpdEluZm8oaW5kZXgpIHsKICAgICAgICB0aGlzLmVkaXRJbmRleCA9IGluZGV4OwogICAgICAgIHRoaXMubmV3VG9kb1RleHQgPSB0aGlzLnRvZG9zW2luZGV4XS50aXRsZTsKICAgICAgICB0aGlzLiRyZWZzLmVkaXRvci5mb2N1cygpOwogICAgfSwKICAgIHJlbW92ZVRvZG8oaW5kZXgpIHsKICAgICAgdGhpcy50b2Rvcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB0aGlzLnNhdmVUb2RvcygpOwogICAgfSwKICAgIHNhdmVUb2RvcygpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjY2Vzc190b2RvcycsIEpTT04uc3RyaW5naWZ5KHRoaXMudG9kb3MpKTsKICAgIH0sCiAgICByZXNldEluZm8oKSB7CiAgICAgIHRoaXMubmV3VG9kb1RleHQgPSAnJzsKICAgICAgdGhpcy5lZGl0SW5kZXggPSAtMTsKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["app.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.vue","sourceRoot":".","sourcesContent":["<template>\n  <div id=\"app\">\n    <form v-on:submit.prevent=\"addOrSet\">\n      <label for=\"new-todo\">Add a todo</label>\n      <input\n        v-model=\"newTodoText\"\n        ref=\"editor\"\n      >\n      <button>{{ changeButtonText }}</button>\n    </form>\n    <ul>\n      <li\n        v-for=\"(todo, index) in todos\"\n        v-bind:key=\"todo.id\">\n      {{todo.title}}\n        <span class=\"pull-right\">\n          <button v-on:click=\"removeTodo(index)\">Remove</button>\n          <button v-on:click=\"setEditInfo(index)\">Edit</button>\n        </span>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  el: '#app',\n  data: function () {\n    return {\n    newTodoText: '',\n    editIndex: -1,\n    todos: [],\n    nextTodoId: 0\n    }\n  },\n  computed: {\n    changeButtonText() {\n        return this.editIndex === -1 ? 'add' : 'finish edition';\n    }\n  },\n\n  mounted() {\n    this.todos = JSON.parse(localStorage.getItem('access_todos')) || [];\n    var ids = [];\n    for (const todo of this.todos){\n      ids.push(todo.id);\n    }\n    const aryMax = function (a, b) {return Math.max(a, b);}\n    let maxId = ids.reduce(aryMax);\n    this.nextTodoId = maxId + 1;\n  },\n\n  methods: {\n    addOrSet () {\n      if(this.editIndex === -1) {\n        this.addNewTodo();\n      } else {\n        this.editTodo();\n      }\n      this.resetInfo();\n      this.saveTodos();\n    },\n    addNewTodo() {\n      this.todos.push(\n        {\n          id: this.nextTodoId++,\n          title: this.newTodoText,\n        });\n    },\n    editTodo() {\n      this.todos.splice(this.editIndex, 1, {\n        id: this.editIndex,\n        title: this.newTodoText,\n      });\n    },\n    setEditInfo(index) {\n        this.editIndex = index;\n        this.newTodoText = this.todos[index].title;\n        this.$refs.editor.focus();\n    },\n    removeTodo(index) {\n      this.todos.splice(index, 1);\n      this.saveTodos();\n    },\n    saveTodos() {\n      localStorage.setItem('access_todos', JSON.stringify(this.todos));\n    },\n    resetInfo() {\n      this.newTodoText = '';\n      this.editIndex = -1;\n    },\n  },\n}\n</script>\n\n<style>\n* {\n  box-sizing: border-box;\n}\n#app {\n  max-width: 640px;\n  margin: 0 auto;\n}\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\n\nbutton {\n  border: none;\n  border-radius: 20px;\n  line-height: 24px;\n  padding: 0 8px;\n  background: #0099e4;\n  color: #fff;\n  cursor: pointer;\n}\n</style>\n"]}]}